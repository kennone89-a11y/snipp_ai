<!doctype html>
<html lang="sv">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>snipp_ai — sanity</title>
  <style>
    body{margin:0;padding:24px;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;background:#0b0f14;color:#e9eef5}
    .wrap{max-width:920px;margin:0 auto}
    .row{display:flex;gap:8px}
    .btn{padding:10px 14px;border-radius:10px;border:1px solid #223246;background:#0f1520;color:#e9eef5;cursor:pointer}
  </style>

  <!-- döda ev service worker cache -->
  <script>
    (async()=>{try{
      const regs = await navigator.serviceWorker?.getRegistrations?.();
      regs?.forEach(r=>r.unregister());
      if (window.caches?.keys) {
        const ks = await caches.keys();
        await Promise.all(ks.map(k=>caches.delete(k)));
      }
    }catch(_){}})();
  </script>

  <!-- (behövs först i steg 2, men gör inget om den laddas redan nu) -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>
  <div class="wrap">
    <h1>snipp_ai — sanity</h1>
    <div class="row" style="margin-top:8px">
      <button id="recordBtn" class="btn" onclick="startRec()">Starta inspelning</button>
      <button id="stopBtn"   class="btn" onclick="stopRec()">Stoppa</button>
    </div>
    <small id="codec" style="display:block;margin-top:8px;color:#98a6b5"></small>
  </div>

  <!-- ny, ren fil -->
  <script>
'use strict';
window.startRec = function(){ alert('JS OK'); };
window.stopRec  = function(){ alert('STOP'); };
</script>

</body>
</html>
